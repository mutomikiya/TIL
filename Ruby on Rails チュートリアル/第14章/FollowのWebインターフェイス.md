## フォローのサンプルデータ
- db/seeds.rbを編集して、サンプルデータにfollowing/followerの関係性を追加する
```
users = User.all
user  = users.first
following = users[2..50]
followers = users[3..40]
following.each { |followed| user.follow(followed) }
followers.each { |follower| follower.follow(user) }
```
## 統計とfollowフォーム
- プロフィールページとHomeページにフォローしているユーザーとフォロワーの統計情報を表示するためのパーシャルを作成する
  -  統計情報にはフォローしている人数、フォロワーの人数が表示され、それぞれをクリックすると一覧が見れるようにする
  -  そのために/users/1/following、/users/1/followersというURLを有効にするためにrouteファイルを編集する
  -  これらのリンクを含んで、フォロワーの統計情報を表示するパーシャルを作成する
  -  Homeページにフォロワーの統計情報を追加してSCSSでスタイルを与える
- 次にフォロー用とフォロー解除用のフォームを作成する
  -　follow、unfollowボタン用のパーシャルを作成する
  -　relationshipリソース用のルーティングを追加する
  -　follow、unfollowそれぞれのフォームのパーシャルを作成する
  -　viewを編集してプロフィールページにフォロー用フォームとフォロワーの統計情報を追加する
 
## followingとfollowerページ
- フォロー、フォロワーを検索してデータを取り出し、ページネーションを行なってページを出力するfollowing、followeresアクションをusersコントローラー
に追加する
- フォロしているユーザーとフォロワーの両方を表示するビューを作成する
  - アクションの時点で取り出すユーザーが異なっているため、一つのビューでもフォロー/フォロワーそれぞれを必要に応じて表示できる

## followボタン
- フォロー/フォロー解除はそれぞれrelationshipの作成と削除に対応するため、まずはrelationshipsコントローラを生成する
- relationshipsコントローラではアクションの前にログインしているかどうか確認する
- create、destroyアクションをそれぞれ定義する
  - createアクションでは、フォームから送信されたパラメータを使ってfollowed_idに対応するユーザーを見つけ、そのユーザーに対して現在の
  ユーザーが「フォロー」する
  - destroyアクションでは同様にフォームの情報をもとにユーザーを探して「フォロー解除」する
- Ajaxを使う
  - Webページからサーバーに「非同期」でページを移動することなくリクエストを送信できる
  - 例えばフォローボタンを押して他のユーザーをフォローしたあと普通に元のページにリダイレクトすると、一度そのページを離れる必要がある
  が、Ajaxを使えばそういった画面の遷移がなくなる
